# FluidSimulation

## Содержание
- [FluidSimulation](#FluidSimulation)
- [содержание](#содержание)
- [описание](#описание)
- [запуск](#запуск)

## Описание

Программа симулирует движение жидкости в пространстве. Жидкость представлена символом '.', пустое пространство — символом ' ', а блоки, препятствующие движению, — символом '#'.

#### Возможности:
- Задание параметров: ускорение свободного падения g, плотности для '.' и ' '.
- Указание поля с начальными условиями, включая положение жидкости и блоков.
- Поддержка нескольких типов чисел для расчетов.

#### Типы данных
Программа поддерживает следующие числовые типы:
- float
- double
- Fixed(n, k) — фиксированная точность.
- FastFixed(n, k) — оптимизированная версия с фиксированной точностью.

Подробности о реализации типов и устройстве проекта можно найти в документации: fluid-2.pdf.

## Запуск
- Пример начального расположения жидкости представлен в файле field_example.json.
- Пример промежуточного состояния симуляции можно найти в файле field.json.
  
Перед компиляцией можно указать тип данных и параметры точности в файле CMakeLists.txt через переменные DTYPES и DSIZES.


1. `git clone --recurse-submodules https://github.com/klausfun/FluidSimulation`
2. `cd FluidSimulation`
3. `создать папку build в корнейвой директории и перейти в неё`
4. `cmake ..`
5. `make`
6. `./main --p-type=DOUBLE --v-type="FIXED(32,16)" --vf-type="FAST_FIXED(48,16)" --in-file=../field.json --out-file=../field.json` - пример запуска, можно изменять типы и файлы для сохранения/чтения